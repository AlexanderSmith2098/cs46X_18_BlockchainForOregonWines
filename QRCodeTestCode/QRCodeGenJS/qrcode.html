<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<link
			rel="stylesheet"
			href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css"
		/>
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
		<script src="qrcode.js"></script>
	</head>
	<body>
		<form>
			<div class="form-group">
				<label for="grapeInput">grapes</label>
				<input
					type="text"
					class="form-control"
					id="grapes"
					placeholder="grapes"
				/>
			</div>
			<div class="form-group">
				<label for="wineryInput">winery</label>
				<input
					type="text"
					class="form-control"
					id="winery"
					placeholder="winery"
				/>
			</div>
			<div class="form-group">
				<label for="wineName">wine name</label>
				<input
					type="text"
					class="form-control"
					id="wineName"
					placeholder="wine name"
				/>
			</div>
			<button
				type="submit"
				id="qrCodeButt"
				class="btn btn-primary"
				data-toggle="modal"
			>
				Submit
			</button>
		</form>
		<div class="modal fade" id="qrCodeModal" tabindex="0">
			<div class="modal-dialog">
				<div class="modal-content">
					<div class="modal-header modal-primary">
						<button type="button" class="close" data-dismiss="modal">
							&times;
						</button>
						<div class="text-center">
							<h4 class="modal-title">QR Code:</h4>
						</div>
					</div>
					<div class="modal-body">
                        <div id = "output"></div>
                    </div>
					<img src="" alt="">
				</div>
			</div>
		</div>
		<script>
			var qrcString;
			var qrcode = new QRCode(document.getElementById("output"), {
				width: 25,
				height: 25,
				useSVG: true,
			});
			document
				.getElementById("qrCodeButt")
				.addEventListener("click", function () {
					event.preventDefault();
                    qrcString = "Grapes: " + $("#grapes").val() + "\n" + "Winery: " + $("#winery").val() + "\n" + "Wine Name: "  + $("#wineName").val();
                    console.log(qrcString);
                    //qrcode.makeCode("https://www.cnn.com");
                    qrcode.makeCode(qrcString);
					$("#qrCodeModal").modal();
				});
		</script>
	</body>
</html>
